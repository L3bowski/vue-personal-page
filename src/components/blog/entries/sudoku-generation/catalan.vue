<template>
    <div>
        <p>
            La meva mare sempre ha estat una lectora fervent de diaris i, amb els anys, ha cultivat l'afici√≥ de completar els jocs que els diaris inclouen a les √∫ltimes p√†gines. Entre aquests jocs sempre se n'hi troba un anomenat
            <a
                href="https://en.wikipedia.org/wiki/Sudoku"
                target="_blank"
            >sudoku</a>. Dos de fet; un de dificultat raonable i un de completament malvat. Va ser mentre ella estava enfeinada resolent el primer sudoku que la vaig interrompre. No recordo que volia en aquell moment, per√≤ si que recordo que vam parlar del sudoku i que em vaig fixar en la difer√®ncia de dificultat entre els dos nivells.
        </p>
        <div v-if="!isRenderedFromList">
            <div class="screen-splitter">
                <div>
                    <Sudoku
                        :size="9"
                        :values="[[' ', ' ', ' ', 1, 7, ' ', ' ', 5, 3], [3, 5, ' ', ' ', 8, 4, ' ', 7, 9], [8, 9, ' ', 3, ' ', 2],[5, 3, ' ', 4],[7, ' ', ' ', 5, ' ', 6, ' ', ' ', 4], [' ', 1, ' ', ' ', 2, ' ', 5, ' ', 8], [' ', 4, 5, ' ', ' ', 3, ' ', ' ', 7], [ ' ', ' ', ' ', 8, ' ', ' ', ' ', 2, 5], [' ', 2, ' ', 7, 9, ' ', ' ', 4]]"
                    />
                    <p class="text-center">Sudoku f√†cil</p>
                </div>
                <div>
                    <Sudoku
                        :size="9"
                        :values="[[' ', ' ', ' ', ' ', 7, ' ', 8, ' ', 4], [4, ' ', 7], [' ', ' ', ' ', 4, 1, ' ', ' ', ' ', 2], [' ', ' ', ' ', ' ', 2, ' ', ' ', 4], [' ', 8, 1, ' ', 3, ' ', 5], [9, 6], [' ', 9, 8], [5, 1, ' ', 8, ' ', ' ', ' ', ' ', 7], [' ', ' ', ' ', ' ', ' ', 6, ' ', ' ', 1]]"
                    />
                    <p class="text-center">Sudoku dif√≠cil</p>
                </div>
            </div>

            <p>
                En el diari que la mama llegia aquell dia en concret, el sudoku f√†cil tenia 28 caselles omplertes de les 81 caselles totals mentre que el sudoku dif√≠cil en tenia 29.
                <b>Com podia ser que el sudoku m√©s complicat tingu√©s m√©s caselles omplertes!?</b> En altres paraules, no depen del n√∫mero de caselles omplertes la dificultat del sudoku? Almenys, aquesta √©s la sensaci√≥ que jo tenia. La veritat √©s que mai m'havia parat a pensar com es generen els sudokus. N'havia solucionat alguns es clar, per√≤ mai havia provat de generar-ne un.
            </p>

            <p>
                De fet, resulta que no √©s gens f√†cil de generar-los. Una propiertat important d'un sudoku ben generat √©s que nom√©s t√© una soluci√≥ possible. Pot sonar obvi per√≤, depenent de com i quantes caselles tingui omplertes, un sudoku pot tenir m√∫ltiples solucions v√†lides. L'exemple m√©s fam√≥s √©s el sudoku que la cadena de televisi√≥ brit√†nica Sky TV va dibuixar en un tur√≥ oferint un premi de 5000¬£ per la soluci√≥; va resultar que tenia
                <a
                    href="https://www.sudokuwiki.org/Sudoku_Creation_and_Grading.pdf"
                    target="_blank"
                >1905 solucions possibles</a>. Aquesta an√®cdota va aconseguir despertar la meva curiositat!
            </p>
            <p class="text-center">
                <img
                    :src="`${images.skyTvHillside}?$modena=vue-personal-page`"
                    alt="Sky TV hillside sudoku"
                />
            </p>

            <p>
                <b>Normalment hi hauria rumiat una estona</b>, m'hauria adonat que √©s una tasca matem√†ticament complexa, hauria concl√≤s que la quantitat de temps lliure que requereix trobar una soluci√≥ al problema excedeix la curiositat que em genera el tema
                <b>i finalment ho hauria deixat c√≥rrer</b>. Tanmateix resulta que acabava de comen√ßar un any sab√†tic a la feina i que, degut a les measures preventives contra el COVID-19, es va cancelar el vol sense retorn que havia d'agafar el 31 de maig per anar a viure a Australia. Aix√≠ doncs,
                <b>com que estava sense feina, tancat a casa i amb la major quantitat de temps lliure de la que mai hagu√©s disposat</b> (a Espanya el confinament pel coronavirus va comen√ßar el 15 de maig i havia de durar almenys un m√©s), vaig decidir que descobriria com generar sudokus üí™
            </p>

            <p>
                What followed next was a much longer journey that I had expected in the beginning. I was about to quit the project many times but, luckily, I watched
                <a
                    href="https://www.imdb.com/title/tt4276820/"
                    target="_blank"
                >The Founder</a> in the meanwhile, the movie that explains how Ray Kroc turned McDonald's into the biggest restaurant business in the world thanks to his bulletproof persistence. If you must know, this odyssey had four stages:
            </p>

            <p>
                <b>1. Results, results, results</b>: I couldn't fight the urge of seeing something done whithout thinking much. I assumed that the process of generating a 9x9 sudoku would be the same as generating a 4x4 one and I went for a quick command line algorithm.
            </p>
            <p class="text-center">
                <img
                    class="limited-size-image"
                    :src="`${images.commandLine}?$modena=vue-personal-page`"
                    alt="Command line generated sudoku"
                />
            </p>

            <p>
                <b>2. Damn! I need a graphical tool</b>: Almost there! The command line algorithm was generating valid single solution 4x4 sudokus üéâ I just needed to adapt it to generate 9x9 sudoku and that would be the end of story. However, turns out that 9x9 sudokus have nothing to do with 4x4 sudokus. I couldn't figure out what was failing just by reading the command line output, so I had to go for a web application.
            </p>
            <p class="text-center">
                <img
                    class="limited-size-image"
                    :src="`${images.commandLineError}?$modena=vue-personal-page`"
                    alt="Command line generation error"
                />
            </p>

            <p>
                <b>3. Frog... this is complicated</b>: It didn't take me much time to create a web application that could display 9x9 sudoku grids. With the visual representation of the sudoku and the ability to place numbers back and forth I began to understand what I was missing out. There are additional rules that forbid placing a number in a box apart from having that number in the same column, region or row.
            </p>
            <p class="text-center">
                <img
                    class="limited-size-image"
                    :src="`${images.webAppFirstApproach}?$modena=vue-personal-page`"
                    alt="Web application first approach"
                />
            </p>

            <p>
                <b>4. There is light at the end of the tunnel</b>: After sitting down and thinking about it, as I should have done from the beginning, I figured out a set of additional rules that help discarding possible numbers from boxes. Having found out about those little bastards, it was just a matter of rewritting the algorithm to consider them. It took me a number of hours, but I could finally get a working generator.
            </p>
            <p class="text-center">
                <img
                    class="limited-size-image"
                    :src="`${images.webAppFinalApproach}?$modena=vue-personal-page`"
                    alt="Web application final approach"
                />
            </p>

            <p>
                Hey look ma, I made it! In my case I didn't build a hamburger empire but this
                <a
                    href="/sudoku-generator"
                    target="_blank"
                >sudoku generator</a>. I must admite that the generation fails sometimes, having to drop the faulty puzzle and starting again, but it always ends up generating valid single solution puzzles. If you are wondering, these are the rules my algorithm uses to generate sudoku. In fact, these are probably the rules you use when you are solving those puzzles too.
            </p>

            <ul>
                <li>
                    Si a una casella X nom√©s hi pot anar un n√∫mero, aquest n√∫mero ha d'anar a la casella X i no √©s v√†lid en cap altra casella dels grups (fila, columna i regi√≥) de la casella X:
                    <p class="text-center">
                        <img
                            class="limited-size-image"
                            :src="`${images.boxOnlyLeftCandidate}?$modena=vue-personal-page`"
                            alt="Web application final approach"
                        />
                    </p>
                </li>
                <li>
                    Si per un grup determinat un n√∫mero nom√©s pot anar a la casella X, aquest n√∫mero ha d'anar a la casella X i no √©s v√†lid en cap altra casella dels grups de la casella X:
                    <p class="text-center">
                        <img
                            class="limited-size-image"
                            :src="`${images.groupSingleCandidate}?$modena=vue-personal-page`"
                            alt="Web application final approach"
                        />
                    </p>
                </li>
                <li>
                    Si 2-3 caselles d'un grup nom√©s poden tenir els mateixos 2-3 n√∫meros, aquests n√∫meros no s√≥n v√†lids en cap altra casella del mateix grup:
                    <p class="text-center">
                        <img
                            class="limited-size-image"
                            :src="`${images.ownedCandidates}?$modena=vue-personal-page`"
                            alt="Web application final approach"
                        />
                    </p>
                </li>
                <li>
                    Si, per un grup determinat, les √∫niques caselles on pot anar un n√∫mero estan a la mateixa fila o columna, aquest n√∫mero no √©s v√†lid a cap altra casella de la mateixa fila o columna:
                    <p class="text-center">
                        <img
                            class="limited-size-image"
                            :src="`${images.regionSubset}?$modena=vue-personal-page`"
                            alt="Web application final approach"
                        />
                    </p>
                </li>
            </ul>

            <p>I aix√≤ vindria a ser tot. Vaig haver de dedicar-hi al voltant de 75 hores per aconseguir el que en diriem un generador acceptable. El resultat √©s menys complet del que m'havia imaginat en un principi, per√≤ les coses no s√≥n mai com esperes que siguin. Fes servir el generador si vols, per√≤ deixa'm avisar-te: no esta adaptat per m√≤bils i no vaig treballar en regular la dificultat, cosa que genera sudokus refotudament complicats. Bona sort i fins al proper post!</p>
        </div>
    </div>
</template>

<script>
import Sudoku from './sudoku';

export default {
    components: {
        Sudoku
    },
    props: ['isRenderedFromList', 'images']
};
</script>